(()=>{"use strict";function e(e,t,...r){return{type:e,props:t,children:r}}function t(e){if("string"==typeof e)return document.createTextNode(e);const r=document.createElement(e.type);if(e.props)for(const[t,n]of Object.entries(e.props))t.startsWith("on")&&"function"==typeof n?r.addEventListener(t.slice(2).toLowerCase(),n):r.setAttribute(t,n);return Array.isArray(e.children)&&e.children.forEach((e=>{r.appendChild(t(e))})),r}let r=0;const n=e("div",{id:"header"},e("h1",{},"hello this vDOM"),e("button",{onClick:()=>{r++}},"count"+r));document.body.appendChild(t(n)),function e(r,n,o,i=0){if(n)if(o){if(function(e,t){if(typeof e!=typeof t)return!0;if("string"==typeof e&&"string"==typeof t)return e!==t;if("string"!=typeof e&&"string"!=typeof t){if(e.type!==t.type)return!0;const r=e.props||{},n=t.props||{},o=Object.keys(r),i=Object.keys(n);if(o.length!==i.length)return!0;for(const e of i)if(r[e]!==n[e])return!0}return!1}(n,o))r.replaceChild(t(o),r.childNodes[i]);else if("string"!=typeof o&&"string"!=typeof n){l=r.childNodes[i],s=n.props,c=o.props,new Set([...Object.keys(s||{}),...Object.keys(c||{})]).forEach((e=>{const t=null==s?void 0:s[e],r=null==c?void 0:c[e];t!==r&&(null==r?l.removeAttribute(e):l.setAttribute(e,r))}));const d=Array.isArray(n.children)?n.children:[n.children],p=Array.isArray(o.children)?o.children:[o.children],h=Math.max(d.length,p.length);for(let n=0;n<h;n++){const o=d[n]||null,i=p[n]||null;o?i?e(r.childNodes[n],o,i,n):r.removeChild(r.childNodes[n]):r.appendChild(t(i))}}}else r.removeChild(r.childNodes[i]);else r.appendChild(t(o));var l,s,c}(t(n),"hello","hello",0),console.log(r)})();